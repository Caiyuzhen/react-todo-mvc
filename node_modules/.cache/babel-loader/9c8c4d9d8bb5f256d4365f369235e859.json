{"ast":null,"code":"var _jsxFileName = \"/Users/zen/Desktop/react-todo-mvc/src/App.js\";\nimport { Button, Input, Table, Space, Popconfirm } from 'antd';\nimport React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input; //ä» input ä¸­ã€ğŸŒŸğŸŒŸè§£æ„ã€‘å¹¶è·å– Search ç»„ä»¶\n//æ€è·¯ï¼š\n//1.æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼Œæ­å»ºåŸºæœ¬ã€å¸ƒå±€ç»“æ„ï¼ˆæ— æ•°æ®çŠ¶æ€ï¼‰ã€‘\n//2.æ¸²æŸ“åŸºç¡€çš„ table ï¼šã€å‘èµ·è¯·æ±‚ï¼ˆéœ€è¦æå‰ Mock æ•°æ®ï¼‰ã€‘ (componentDidMount) -> ã€æ‹¿åˆ°æ•°æ®ã€‘ -> ã€äº¤ç»™ Listã€‘(this.setState)\n//3.å†™å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼š\n//3-1.åˆ é™¤é€»è¾‘ ï¼ˆç‚¹å‡»å“ªä¸ªå°±ç”¨å“ªä¸ª idï¼Œè°ƒç”¨åˆ é™¤æ¥å£ï¼Œé‡æ–°æ‹‰å»åˆ—è¡¨ï¼‰\n//3-2.æœç´¢é€»è¾‘\n//ç±»ç»„ä»¶å†…ä¸èƒ½ç”¨ constã€letï¼Œæ¥å®šä¹‰å˜é‡ï¼Œç›´æ¥å®šä¹‰å°±å¥½äº†\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      //è¡¨æ ¼æ•°æ®\n      list: [],\n      //å®šä¹‰ã€æ¯ä¸€åˆ—ã€‘è¦å±•ç¤ºçš„æ•°æ®ç»“æ„,é€šå¸¸ä¼šæŠŠ ã€dataIndexã€‘ è·Ÿ ã€keyã€‘ å†™æˆä¸€æ ·çš„\n      columns: [{\n        title: 'ä»»åŠ¡ç¼–å·',\n        dataIndex: 'id',\n        //ç¼–å· ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼ï¼‰\n        key: 'id'\n      }, {\n        title: 'ä»»åŠ¡åç§°',\n        dataIndex: 'name',\n        //åç§° ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼ï¼‰\n        key: 'name'\n      }, {\n        title: 'ä»»åŠ¡æè¿°',\n        dataIndex: 'des',\n        //æè¿° ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼ï¼‰\n        key: 'des'\n      }, {\n        title: 'æ“ä½œ',\n        dataIndex: 'do',\n        //æ“ä½œ ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼æ­¤æ¡ˆä¾‹æ²¡æœ‰ï¼‰\n        key: 'do',\n        render: record =>\n        /*#__PURE__*/\n        //ant å°è£…å¥½äº†ï¼Œå¯ä»¥è¿”å›å¯¹åº”åˆ—è¡¨ recordï¼ŒåŒ…å« id\n        // è¿”å›æ“ä½œæŒ‰é’®\n        _jsxDEV(Popconfirm, {\n          title: \"Sure to delete?\",\n          onConfirm: () => this.deleteData(record) //éœ€è¦å›è°ƒå‚æ•°çš„è¯ï¼Œå°±éœ€è¦æ”¹å†™ä¸ºğŸŒŸ ()=>this.XXX() ğŸŒŸçš„å½¢å¼ï¼ï¼ï¼ ant å°è£…å¥½äº†ï¼Œå¯ä»¥è¿”å›å¯¹åº”åˆ—è¡¨ recordï¼ŒåŒ…å« id\n          ,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }]\n    };\n\n    this.onSearch = inputValue => {\n      console.log(inputValue);\n    };\n\n    this.deleteData = async record => {\n      //è°ƒç”¨åˆ é™¤æ¥å£\n      await axios.delete(`http://localhost:3001/data/${record.id}`);\n    };\n\n    this.loadList = async () => {\n      const res = await axios.get('http://localhost:3001/data');\n      console.log(res); //ğŸŒŸ æŠŠæ‹¿åˆ°çš„æ•°æ®å­˜åˆ° state çš„ list å†…, å› ä¸ºä¸‹é¢ render å†…æœ‰è°ƒç”¨ state.list\n\n      this.setState({\n        list: res.data\n      });\n    };\n  }\n\n  //ğŸŒŸğŸŒŸ æ‰¾åˆ°åˆé€‚çš„ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‘,å‘é€è¯·æ±‚\n  componentDidMount() {\n    // å‘é€æ¥å£è¯·æ±‚\n    this.loadList();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        placeholder: \"input search text\",\n        allowClear: true,\n        enterButton: \"Search\",\n        size: \"large\",\n        onSearch: this.onSearch,\n        value: this.state.keyword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table //è¡¨æ ¼åˆ—æ•°æ®\n      , {\n        dataSource: this.state.list //è¡¨å¤´æ•°æ®\n        ,\n        columns: this.state.columns\n      }, this.state.columns.key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/zen/Desktop/react-todo-mvc/src/App.js"],"names":["Button","Input","Table","Space","Popconfirm","React","axios","Search","App","Component","state","list","columns","title","dataIndex","key","render","record","deleteData","onSearch","inputValue","console","log","delete","id","loadList","res","get","setState","data","componentDidMount","keyword"],"mappings":"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","sourcesContent":["import { Button, Input, Table, Space, Popconfirm } from 'antd'\nimport React from 'react'\nimport './App.css'\nimport axios from 'axios'\n\nconst { Search } = Input //ä» input ä¸­ã€ğŸŒŸğŸŒŸè§£æ„ã€‘å¹¶è·å– Search ç»„ä»¶\n\n//æ€è·¯ï¼š\n//1.æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼Œæ­å»ºåŸºæœ¬ã€å¸ƒå±€ç»“æ„ï¼ˆæ— æ•°æ®çŠ¶æ€ï¼‰ã€‘\n//2.æ¸²æŸ“åŸºç¡€çš„ table ï¼šã€å‘èµ·è¯·æ±‚ï¼ˆéœ€è¦æå‰ Mock æ•°æ®ï¼‰ã€‘ (componentDidMount) -> ã€æ‹¿åˆ°æ•°æ®ã€‘ -> ã€äº¤ç»™ Listã€‘(this.setState)\n//3.å†™å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼š\n  //3-1.åˆ é™¤é€»è¾‘ ï¼ˆç‚¹å‡»å“ªä¸ªå°±ç”¨å“ªä¸ª idï¼Œè°ƒç”¨åˆ é™¤æ¥å£ï¼Œé‡æ–°æ‹‰å»åˆ—è¡¨ï¼‰\n  //3-2.æœç´¢é€»è¾‘\n\n\n//ç±»ç»„ä»¶å†…ä¸èƒ½ç”¨ constã€letï¼Œæ¥å®šä¹‰å˜é‡ï¼Œç›´æ¥å®šä¹‰å°±å¥½äº†\n\nclass App extends React.Component {\n  state = {\n    //è¡¨æ ¼æ•°æ®\n    list: [],\n    //å®šä¹‰ã€æ¯ä¸€åˆ—ã€‘è¦å±•ç¤ºçš„æ•°æ®ç»“æ„,é€šå¸¸ä¼šæŠŠ ã€dataIndexã€‘ è·Ÿ ã€keyã€‘ å†™æˆä¸€æ ·çš„\n    columns: [\n      {\n        title: 'ä»»åŠ¡ç¼–å·',\n        dataIndex: 'id',//ç¼–å· ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼ï¼‰\n        key: 'id',\n      },\n      {\n        title: 'ä»»åŠ¡åç§°',\n        dataIndex: 'name',//åç§° ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼ï¼‰\n        key: 'name',\n      },\n      {\n        title: 'ä»»åŠ¡æè¿°',\n        dataIndex: 'des',//æè¿° ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼ï¼‰\n        key: 'des',\n      },\n      {\n        title: 'æ“ä½œ',\n        dataIndex: 'do',//æ“ä½œ ï¼ˆå¯¹åº”çš„å°±æ˜¯ json çš„æ•°æ®ç»“æ„ï¼æ­¤æ¡ˆä¾‹æ²¡æœ‰ï¼‰\n        key: 'do',\n        render:(record)=>(//ant å°è£…å¥½äº†ï¼Œå¯ä»¥è¿”å›å¯¹åº”åˆ—è¡¨ recordï¼ŒåŒ…å« id\n          // è¿”å›æ“ä½œæŒ‰é’®\n          <Popconfirm \n            title=\"Sure to delete?\"\n            onConfirm={()=>this.deleteData(record)} //éœ€è¦å›è°ƒå‚æ•°çš„è¯ï¼Œå°±éœ€è¦æ”¹å†™ä¸ºğŸŒŸ ()=>this.XXX() ğŸŒŸçš„å½¢å¼ï¼ï¼ï¼ ant å°è£…å¥½äº†ï¼Œå¯ä»¥è¿”å›å¯¹åº”åˆ—è¡¨ recordï¼ŒåŒ…å« id\n            >\n            <a>Delete</a>\n          </Popconfirm>\n        )\n      },\n    ]\n  }\n\n  // æœç´¢(ant å·²ç»å°è£…å¥½äº†æœç´¢æ–¹æ³•,è¿”å›æœç´¢å€¼)\n  onSearch = (inputValue) => {\n    console.log(inputValue);\n  };\n\n\n  // åˆ é™¤(æ¥æ”¶ state ä¼ å…¥çš„ record æ•°æ®,ant å°è£…å¥½äº†ï¼Œå¯ä»¥è¿”å›å¯¹åº”åˆ—è¡¨ recordï¼ŒåŒ…å« id)\n  deleteData = async(record) => {\n    //è°ƒç”¨åˆ é™¤æ¥å£\n    await axios.delete(`http://localhost:3001/data/${record.id}`)\n  }\n\n  \n\n  //ğŸŒŸğŸŒŸ å®šä¹‰åŠ è½½åˆ—è¡¨çš„å‡½æ•°(å®šä¹‰è¯·æ±‚æ•°æ®çš„æ–¹æ³•)\n  loadList = async () => {\n    const res = await axios.get('http://localhost:3001/data')\n    console.log(res);\n\n    //ğŸŒŸ æŠŠæ‹¿åˆ°çš„æ•°æ®å­˜åˆ° state çš„ list å†…, å› ä¸ºä¸‹é¢ render å†…æœ‰è°ƒç”¨ state.list\n    this.setState({\n      list: res.data\n    })\n  }\n\n\n\n  //ğŸŒŸğŸŒŸ æ‰¾åˆ°åˆé€‚çš„ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‘,å‘é€è¯·æ±‚\n  componentDidMount () {\n    // å‘é€æ¥å£è¯·æ±‚\n    this.loadList()\n  }\n\n\n  render () {\n    return (\n      <div className=\"container\">\n        {/* <Button type='primary'>æŒ‰é’®</Button> */}\n\n        {/* æœç´¢æ¡†ï¼Œç‚¹å‡»æœç´¢å›¾æ ‡ã€æ¸…é™¤å›¾æ ‡ï¼Œæˆ–æŒ‰ä¸‹å›è½¦é”®æ—¶çš„å›è°ƒï¼Œå›è°ƒçš„ value æ˜¯å½“å‰è¾“å…¥æ¡†çš„å€¼ */}\n        <Search\n          placeholder=\"input search text\"\n          allowClear\n          enterButton=\"Search\"\n          size=\"large\"\n          onSearch={this.onSearch}\n          value={this.state.keyword}\n        />\n        <Table \n          //è¡¨æ ¼åˆ—æ•°æ®\n          dataSource={this.state.list}\n          //è¡¨å¤´æ•°æ®\n          columns={this.state.columns} \n          key= {this.state.columns.key}\n        />;\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}